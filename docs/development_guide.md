# 开发指南

## 环境搭建

### 系统要求
- Python 3.8 或更高版本
- Windows 10/11, macOS 10.14+, 或 Linux

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行应用
```bash
python main.py
```

## 代码规范

### Python代码规范
- 遵循 PEP 8 代码风格
- 使用类型注解
- 函数和类需要添加文档字符串

### UI模块化规范
- 每个模块文件不超过200行
- 按功能拆分UI组件
- 删除冗余和无用代码
- 注释需简洁明了

### Git提交规范
- 使用语义化提交信息
- 每次提交只包含一个功能或修复
- 提交前运行测试确保代码质量

## 模块开发

### 添加新功能模块
1. 在 `agent/` 目录下创建新的命令处理模块
2. 在 `settings/modules/` 中添加相应的设置文件
3. 更新 `settings/settings_manager.py` 以支持新模块的设置
4. 在UI中添加相应的配置界面

### 扩展AI能力
1. 修改 `api_manager.py` 以支持新的API调用
2. 更新系统提示词以适应新的功能
3. 在 `ui/api_manager_wrapper.py` 中添加新的处理逻辑

### UI组件开发
1. 在 `ui/` 目录下创建新的组件文件
2. 遵循现有的UI架构模式
3. 确保新组件与现有样式一致
4. 添加必要的单元测试

## 测试

### 单元测试
```bash
pytest tests/
```

### UI测试
使用 `pytest-qt` 进行UI组件测试

## 打包发布

### 构建可执行文件
```bash
# TODO: 添加具体的打包命令
```

### 发布流程
1. 更新版本号
2. 构建可执行文件
3. 创建发布标签
4. 上传到发布平台